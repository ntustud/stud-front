<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <title>NTU Stud</title>
  <style>
    html {
      /* --tg-color-scheme: light;
      --tg-theme-bg-color: #ffffff; 
      --tg-theme-button-color: #40a7e3;
      --tg-theme-button-text-color: #ffffff;
      --tg-theme-hint-color: #999999;
      --tg-theme-link-color: #168acd;
      --tg-theme-text-color: #000000;
      --tg-viewport-height: 100vh;
      --tg-viewport-stable-height: 100vh; */

      --tg-color-scheme: dark;
      --tg-theme-bg-color: #191919;
      --secondary_bg_color: #212124;
      --tg-theme-button-color: #62b0ff;
      --tg-theme-button-text-color: #ffffff;
      --tg-theme-hint-color: #909091;
      --tg-theme-link-color: #6ab3f3;
      --tg-theme-text-color: #f5f5f5;
      --tg-viewport-height: 100vh;
      --tg-viewport-stable-height: 100vh;
    }
  </style>
</head>

<body>
  <div id="app"></div>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    window.__IS_TG_WEB_APP__ = window.Telegram.WebApp.initData === '' ? false : true;

    if (!window.__IS_TG_WEB_APP__) {
      const darkTheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
      console.log('is dark', darkTheme);
      if (!darkTheme) {

      }

      let root = document.querySelector(':root');

      //root.style.setProperty('--tg-theme-bg-color', 'green');

    }
  </script>
  <script>
    function hexToRgb(str) {
      if (/^#([0-9a-f]{3}|[0-9a-f]{6})$/ig.test(str)) {
        var hex = str.substr(1);
        hex = hex.length == 3 ? hex.replace(/(.)/g, '$1$1') : hex;
        var rgb = parseInt(hex, 16);
        return [(rgb >> 16) & 255, (rgb >> 8) & 255, rgb & 255].join(',');
      }

      return false;
    }

    const root = document.querySelector(':root');
    const colorHex = window.getComputedStyle(root).getPropertyValue('--tg-theme-hint-color').replace(/\s+/g, '');

    root.style.setProperty('--tg-theme-hint-color-rgb', hexToRgb(colorHex));
  </script>
</body>

</html>